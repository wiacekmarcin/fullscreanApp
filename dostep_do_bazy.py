import sqlite3

conn = sqlite3.connect('/home/marcin/kredyty.sqlite')

cur = conn.cursor()

kredyt_agrucole2 = [
(29, '2023-11-04',217.46, 86.53, 303.99),
(30, '2023-12-04',218.76, 85.23, 303.99),
(31, '2024-01-04',220.07, 83.92, 303.99),
(32, '2024-02-04',221.40, 82.59, 303.99),
(33, '2024-03-04',222.72, 81.27, 303.99),
(34, '2024-04-04',224.06, 79.93, 303.99),
(35, '2024-05-04',225.40, 78.59, 303.99),
(36, '2024-06-04',226.76, 77.23, 303.99),
(37, '2024-07-04',228.12, 75.87, 303.99),
(38, '2024-08-04',229.48, 74.51, 303.99),
(39, '2024-09-04',230.87, 73.12, 303.99),
(40, '2024-10-04',232.25, 71.74, 303.99),
(41, '2024-11-04',233.64, 70.35, 303.99),
(42, '2024-12-04',235.04, 68.95, 303.99),
(43, '2025-01-04',236.45, 67.54, 303.99),
(44, '2025-02-04',237.88, 66.11, 303.99),
(45, '2025-03-04',239.30, 64.69, 303.99),
(46, '2025-04-04',240.73, 63.26, 303.99),
(47, '2025-05-04',242.18, 61.81, 303.99),
(48, '2025-06-04',243.63, 60.36, 303.99),
(49, '2025-07-04',245.10, 58.89, 303.99),
(50, '2025-08-04',246.56, 57.43, 303.99),
(51, '2025-09-04',248.05, 55.94, 303.99),
(52, '2025-10-04',249.53, 54.46, 303.99),
(53, '2025-11-04',251.03, 52.96, 303.99),
(54, '2025-12-04',252.54, 51.45, 303.99),
(55, '2026-01-04',254.05, 49.94, 303.99),
(56, '2026-02-04',255.57, 48.42, 303.99),
(57, '2026-03-04',257.11, 46.88, 303.99),
(58, '2026-04-04',258.66, 45.33, 303.99),
(59, '2026-05-04',260.20, 43.79, 303.99),
(60, '2026-06-04',261.76, 42.23, 303.99),
(61, '2026-07-04',263.34, 40.65, 303.99),
(62, '2026-08-04',264.92, 39.07, 303.99),
(63, '2026-09-04',266.50, 37.49, 303.99),
(64, '2026-10-04',268.10, 35.89, 303.99),
(65, '2026-11-04',269.72, 34.27, 303.99),
(66, '2026-12-04',271.33, 32.66, 303.99),
(67, '2027-01-04',272.96, 31.03, 303.99),
(68, '2027-02-04',274.59, 29.40, 303.99),
(69, '2027-03-04',276.25, 27.74, 303.99),
(70, '2027-04-04',277.90, 26.09, 303.99),
(71, '2027-05-04',279.57, 24.42, 303.99),
(72, '2027-06-04',281.25, 22.74, 303.99),
(73, '2027-07-04',282.93, 21.06, 303.99),
(74, '2027-08-04',284.63, 19.36, 303.99),
(75, '2027-09-04',286.34, 17.65, 303.99),
(76, '2027-10-04',288.06, 15.93, 303.99),
(77, '2027-11-04',289.78, 14.21, 303.99),
(78, '2027-12-04',291.53, 12.46, 303.99),
(79, '2028-01-04',293.27, 10.72, 303.99),
(80, '2028-02-04',295.04, 8.95, 303.99),
(81, '2028-03-04',296.80, 7.19, 303.99),
(82, '2028-04-04',298.58, 5.41, 303.99),
(83, '2028-05-04',300.38, 3.61, 303.99),
(84, '2028-06-04',301.97, 1.81, 303.78)
]

update raty set rata_kapitalowa=885.53, rata_odsetkowa=615.05, kapital_do_splaty=69315 where data=286 and kredyt_id=8
-- Wynik: pomyślnie wykonano zapytanie. Zajęło to 7ms, dotyczyło 1 wiersza
-- WYKONYWANIE WSZYSTKIEGO W 'SQL 1'

zostalo_do_splaty = 0
for i in range(len(kredyt_agrucole2)):
	k = kredyt_agrucole2[len(kredyt_agrucole2)-i-1]
	zostalo_do_splaty += k[2]
	sql="UPDATE raty set rata_kapitalowa=%0.2f, rata_odsetkowa=%0.2f, kapital_do_splaty=%0.2f WHERE kredyt_id=5 and data=%d;" % (k[2],k[3],zostalo_do_splaty,259+k[0]-1)
	print(sql)
	
#for i in range((b[0]-2000)*12+b[1],(e[0]-2000)*12+e[1]):
#	ods = rest*stopa/1200
#	kap = rata - ods
#	print("%d %0.2f %0.2f %0.2f" % (i, rest, ods, kap))
#	cur.execute('INSERT INTO "raty" VALUES (NULL,8,%d, \'%0.2f\', \'%0.2f\', \'%0.2f\');' %(i, kap, ods, rest))
#	rest -= kap
#cur.execute('SELECT * from raty')
#print(cur.fetchall())
#conn.commit()
